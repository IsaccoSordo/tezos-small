<div class="table-container">
  <p-table
    [value]="data()"
    [scrollable]="scrollable()"
    [scrollHeight]="scrollHeight()"
    [paginator]="paginator()"
    [rows]="rows()"
    [first]="first()"
    [totalRecords]="totalRecords()"
    [rowsPerPageOptions]="[10, 25, 50]"
    [showCurrentPageReport]="paginator()"
    [lazy]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    (onLazyLoad)="onPageChange($event)"
  >
    <ng-template pTemplate="header">
      <tr>
        @for (column of columns(); track column.field) {
          <th>{{ column.header }}</th>
        }
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData>
      @if (rowTemplate()) {
        <ng-container
          *ngTemplateOutlet="rowTemplate()!; context: { $implicit: rowData }"
        ></ng-container>
      } @else {
        <tr>
          @for (column of columns(); track column.field) {
            <td>{{ rowData[column.field] }}</td>
          }
        </tr>
      }
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td [attr.colspan]="columns().length" class="empty-message">
          <div class="no-data-container">
            <i class="pi pi-inbox" style="font-size: 3rem; color: #ccc"></i>
            <p>No data found.</p>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
